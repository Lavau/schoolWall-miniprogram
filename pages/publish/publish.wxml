<!--pages/publishOthers/publishOthers.wxml-->
<view>

  <view wx:if="{{login}}">
    <!-- 选择发布的标签 -->
    <view class="label" bindtap="showOrCloseLabelModal">{{labelText}}</view>
    <!-- 点击图标后，显示的模态框 -->
    <modal hidden="{{isHiddenLabelModal}}" confirm-text="关闭" no-cancel="true" bindconfirm="showOrCloseLabelModal">
      <view wx:for="{{types}}" wx:key="index" class="label-item" data-label="{{item}}" bindtap="inputLabel">
        {{item.chineseName}}
      </view>
    </modal>

    <!-- 输入具体内容 -->
    <view class="description description-position">
      <textarea placeholder="{{placeholderOfDescription}}" maxlength="300" bindinput="inputDescription" value="">
      </textarea>
      <view class="description-word-num-sign">{{wordNum}}/300</view>
    </view>
    <view wx:if="{{labelId == 5 || labelId == 7 || labelId == 8}}" class="msg">
      <input type="text" placeholder="{{placeholderOfMsg}}" bindinput="inputMsg" value=""/>
    </view>

    <!-- 选择图片并预览 -->
    <view class="picture">
      <button bindtap="choosepicture">选择图片</button>
      <view style="height: 20rpx;"></view>
      <image wx:for="{{pictures}}" wx:key="unique" src="{{item}}" data-index="{{index}}" 
        bindtap="previewpicture" mode="aspectFill">
      </image>
    </view>

    <!-- 匿名按钮 -->
    <view class="switch-anonymous">
      <switch bindchange="inputAnonymous">
        <span class="switch-anonymous-word">是否匿名，默认为不匿名</span>  
      </switch>
    </view>

    <!-- 取消按钮与提交按钮 -->
    <view class="btn">
      <button type="primary" bindtap="submit" style="margin-bottom:20rpx">发布</button>
    </view>
  </view>

  <view wx:else class="no-login-body">
    <button type="primary" style="margin-top: 50rpx" bindtap="login">登录</button>
  </view>
</view>