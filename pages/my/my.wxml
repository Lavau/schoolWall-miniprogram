<!--pages/my/my.wxml-->
<view class="container">
  <!-- 登录状态显示内容 -->
  <view wx:if="{{login}}">
    <button wx:if="{{!hasUserInfo}}" type="primary" open-type="getUserInfo" bindgetuserinfo="obtainUserInfo">
      基本信息授权
    </button>

    <!-- 头部 -->
    <view class="header">
      <!-- 用户信息 -->
      <view class="header-user-info">
        <image class="header-user-info-avatar" src="{{userInfo.avatarUrl}}"></image>
        <view class="header-user-info-nickname">{{userInfo.nickName}}</view>
      </view>

      <!-- 操作部分 -->
      <view class="header-bottom-box">
        <view class="header-bottom-box-item">
          <view>已发布{{10}}条</view>
        </view>
        <view class="header-bottom-box-item header-bottom-box-item-middle" bindtap="obtainLikedList">
          <view>收到{{20}}个赞</view>
        </view>
        <view class="header-bottom-box-item"  bindtap="obtainCommentedList">
          <view>收到{{10}}条评论</view>
        </view>
      </view>
    </view>
    
    <!-- 列表展示 -->
    <view class="body">
      <view class="body-item" bindtap="goToObtainDataPage" data-url="/obtainPublishedData">
        <image src="/assets/img/icon/my/publish.png"></image>
        <view class="body-item-middle">我发布的</view>
        <image src="/assets/img/icon/my/right.png"></image>
      </view>

      <view class="body-item" bindtap="goToObtainDataPage" data-url="/obtainLikedData">
          <image src="/assets/img/icon/my/like.png"></image>
          <view class="body-item-middle">我点赞的</view>      
          <image src="/assets/img/icon/my/right.png"></image>
      </view>

      <view class="body-item"  bindtap="goToObtainDataPage" data-url="/obtainCommentedData">
        <image src="/assets/img/icon/my/comment.png"></image>
        <view class="body-item-middle">我评论的</view>
        <image src="/assets/img/icon/my/right.png"></image>
      </view>
    </view>
  </view>

  <!-- 未登录状态显示内容 -->
  <view wx:else class="no-login-body">
      <!-- <button bindtap="goToRegisterPage">注册</button> -->
    <button wx:if="{{!hasUserInfo}}" type="primary" open-type="getUserInfo" bindgetuserinfo="obtainUserInfo">
      基本信息授权
    </button>
    <!-- <view class="no-login-box" bindtap="">登录</view> -->
  </view>
</view>