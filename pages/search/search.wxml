<!--pages/search/search.wxml-->
<!-- 搜索内容选择 -->
<view>
  <!-- 搜索的标签 -->
  <view class="label" bindtap="showOrCloseLabelModal">{{labelText}}</view>
  <modal hidden="{{isHiddenLabelModal}}" confirm-text="关闭" no-cancel="true" bindconfirm="showOrCloseLabelModal">
    <view wx:for="{{types}}" wx:key="index" class="label-item" data-label="{{item}}" bindtap="inputLabel">
      {{item.chineseName}}
    </view>
  </modal>

  <!-- 输入框 -->
  <view class="label">
    <input type="text" placeholder="请输入搜索的内容" maxlength="50" bindinput="inputSearchText"/>
  </view>

  <!--  时间 -->
  <view style="display:flex; flex-direction: row; justify-content:space-evenly;">
    <view class="label">
      <picker mode="date" start="2021-4-15" fields="day" bindchange="inputBeginDate">
        {{beginDate}}
      </picker>
    </view>
    <view class="label">
      <picker mode="date" start="2021-4-15" fields="day" bindchange="inputEndDate">
        {{endDate}}
      </picker>
    </view>
  </view>

  <view class="label" style="width: 45%; margin: 10rpx 200rpx;" bindtap="search">搜索</view>
</view>

<!-- 搜索结果展示 -->
<view class="container">   
  <view>
    <block wx:for="{{list}}" wx:key="i">
      <!-- 类型 -->>
      <view class="body-item" bindtap="goToDetailPage" data-id="{{item['id']}}">
        <view class="body-item-type">
          <view class="body-item-type">
            <image src="/assets/img/icon/lable.png"></image>
            <view class="body-item-type-word">{{item['typeName']}}</view>
          </view>
          <view class="body-item-type-word">{{item['createTime']}}</view>
        </view>

        <!-- 描述 -->
        <view class="body-item-content">
          <text wx:if="{{item['description'].length != 0}}">{{item['description']}}</text>
          <text wx:else>{{item['title']}}</text>
        </view>

          <!-- 图片 -->
          <view class="body-item-img" wx:if="{{item['pictureUrlList'].length != 0}}">
          <block wx:for="{{item['pictureUrlList']}}" wx:key="j">
            <image src="{{item}}" mode="aspectFill"></image> 
          </block>
        </view>
      </view>
    </block> 
  </view>

</view>
